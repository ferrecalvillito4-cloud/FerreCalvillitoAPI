import os
import json

PRODUCTOS_FILE = os.path.join(os.path.dirname(__file__), "productos.json")

# Lista global de productos
productos_api = []

def cargar_productos_api():
    ""
"Carga los productos desde productos.json al iniciar la API"
""
global productos_api
if os.path.exists(PRODUCTOS_FILE):
    try:
    with open(PRODUCTOS_FILE, "r", encoding = "utf-8") as f:
    productos_api = json.load(f)
print(f "üì¶ Cargados {len(productos_api)} productos desde la API")
except Exception as e:
    productos_api = []
print(f "‚ö†Ô∏è Error al cargar productos.json: {e}")
else :
    productos_api = []
print("‚ö†Ô∏è No se encontr√≥ productos.json, lista vac√≠a")

def guardar_productos_api():
    ""
"Guarda la lista de productos en productos.json"
""
global productos_api
try:
with open(PRODUCTOS_FILE, "w", encoding = "utf-8") as f:
    json.dump(productos_api, f, indent = 2, ensure_ascii = False)
print(f "üíæ Guardados {len(productos_api)} productos en productos.json")
except Exception as e:
    print(f "‚ùå Error al guardar productos.json: {e}")